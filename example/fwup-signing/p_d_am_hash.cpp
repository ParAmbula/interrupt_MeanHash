#include<iostream>
#include<string>
#include<vector>
#include<algorithm>
#include<sstream>
using namespace std;


//Header(simplified)
/*
typedef struct {
    uint32_t crc;//
    uint32_t data_size;//
    uint16_t image_hdr_version;//
    uint16_t image_magic;//
    uint32_t image_date;//
    uint8_t ecsda_sig[64];//
    uint8_t image_type;//
    uint8_t version_major;// 
    uint8_t version_minor;// 
    uint8_t version_patch;// 
} image_hdr_t;
 */

    //256-> 32 bytes
    //128-> 16 bytes
    //64 -> 8 bytes
    //32 -> 4 bytes
    //16 -> 2 bytes
    //8  -> 1 bytes

static string PercHash(string FileBytes)
{  
    int numChunk = 256;
    cout << (numChunk) << " - size of numChunk" << endl;
    cout << FileBytes.length() << " - length of FileBytes before" << endl;
    double Avgs=0, totalAvgs = 0;
    vector<double> avgList{};
    while ((FileBytes.length() % numChunk) != 0)
    {
        FileBytes += "A";//Align
    }
    cout << FileBytes.length() << " - length of FileBytes after" << endl;
    size_t chunkLen = FileBytes.length() / numChunk;
    cout << sizeof(chunkLen) << " - size of chunklen and value -> " << chunkLen << endl;
    for (int i = 0; i < FileBytes.length(); i+= chunkLen)//Average
    {
        if (i + chunkLen > FileBytes.length())
            chunkLen = FileBytes.length() - i;
        for(char symb : FileBytes.substr(i,chunkLen))
        {
            Avgs += static_cast<uint64_t>(symb);
        }
        Avgs /= chunkLen;
        avgList.push_back(Avgs);
        totalAvgs += Avgs;
        Avgs = 0;
    }
    totalAvgs /= numChunk;
    string hash = "";
    //Here goes the overhead
    for (int i = 0; i < avgList.size(); i++)//create binary string
    {
        if (avgList[i] >= totalAvgs)
            hash += "1";
        else
            hash += "0";
    }
        string res = "";
        for (int i = 0; i < hash.length(); i += 8)//byte to hex
        {
            stringstream stream;
            string tmp;
            string bits8 = hash.substr(i, 8);
            int OneByte = 0;
            for (char c : bits8)
            {
                OneByte = (OneByte << 1) | (c - '0');//OneByte = OneByte | (c - '0'); // Shift the current set of bits to the left one bit // Add in the current bit via a bitwise-or
            }
            stream << hex << OneByte;
            if (stream.str().length() < 2)
            {
                tmp.append("0");
                tmp.append(stream.str());
            }
            else
                tmp = stream.str();
            res += tmp;
            tmp.clear();
            stream.clear();
        }
        for (char& c : res)
            c=toupper(c);
        cout << "HASH - " << res << endl;
    return res;
}


//Examples of Hamming distance
/*
int ph_hamming_distance(const uint64_t hash1, const uint64_t hash2)
{
    uint64_t x = hash1 ^ hash2;
    const uint64_t m1 = 0x5555555555555555ULL;
    const uint64_t m2 = 0x3333333333333333ULL;
    const uint64_t h01 = 0x0101010101010101ULL;
    const uint64_t m4 = 0x0f0f0f0f0f0f0f0fULL;
    x -= (x >> 1) & m1;
    x = (x & m2) + ((x >> 2) & m2);
    x = (x + (x >> 4)) & m4;
    return int((x * h01) >> 56);
}
 */
/*
int ph_hamming_distance(const uint64_t X, const uint64_t Y)
{
    uint64_t result = X ^ Y;
    int count = 0;
    while (result > 0)
    {
        count += result & 1;
        result >>= 1;
    }
    return count;
}
*/

//Basic variant
uint64_t HammingDistance(const string& hash1, const string& hash2)
{
    /*cout << "Hash 1 before " << hash1 << endl;
    cout << "Hash 2 before " << hash2 << endl;
    if (hash1.length() < hash2.length())
    {
        int quan = hash2.length() - hash1.length();
        hash1.insert(0, quan, '0');
    }
    else if (hash1.length() > hash2.length())
    {
        int quan = hash1.length() - hash2.length();
        hash2.insert(0, quan, '0');
    }
    cout << "Hash 1 after  " << hash1 << endl;
    cout << "Hash 2 after  " << hash2 << endl;*/
    
    uint64_t count = 0;
    for (uint64_t i = 0; hash1[i] != 0; i++)
        if (hash1[i] != hash2[i])
            count++;
    return count;
}

//Nonce update func. Can be basically anything, depends on dev.
int update_nonce(int nonce, int ver, int crc)
{
    int flag = 0;
    flag |= (nonce & 1)<<1;
    flag |= (ver & 1)<<2;
    flag |= (crc & 1)<<4;
    int one = flag & (1 << 1);
    int two = flag & (1 << 2);
    int three = flag & (1 << 4);
    if (one)
        return ((nonce * ver + crc - 1) / 2);
    else if (two)
        return ((nonce * crc + ver - 5) / 4);
    else if (three)
        return ((nonce * 2 + crc - ver) / crc);
    else
        return -1;
}


int main(int argc, char** arvgv, char** envp)
{
    //Lots of manual testing and workarounds.

    //cout << update_nonce(126, 21, 0) << endl;
    //cout << update_nonce(2135, 86, 123) << endl;
    //cout << update_nonce(183, 25, 55) << endl;
    //cout << update_nonce(548, 85, 0) << endl;
    //cout << update_nonce(1, 348, 34) << endl;
    //cout << update_nonce(18566, 46, 0) << endl;
    //cout << update_nonce(2, 8769, 13) << endl;
    //cout << update_nonce(0, 124, 0) << endl;
    //stringstream ss;
    //uint64_t a;
    //uint64_t b;
    //ss << hex << 
    //ss >> a;
    //ss.clear();
    //ss << hex << PercHash("12345678901234567890123456789012C4993F9C1BB187E8B860AABCABCDBCABD2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590EEFFF"s);
    //ss >> b;
    //cout << sizeof(a) << endl; // уходит в большие числа ограничение по размеру
    //cout << a << endl;
    //cout << sizeof(b) << endl;
    //cout << b << endl;
    //cout << ph_hamming_distance(a,b) << endl;    
    //string hs1{}, hs2{};
    // 1212121212121212 - 16 symbols
    // At the beginning
    // 768
    //string orig1{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E"s};
    //string orig2{ "1212121212121212DC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E"s };
    // 512 - 39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE418235
    //string orig1{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE418235"s};
    //string orig2{ "1212121212121212DC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE418235"s };
    // 256 - 39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D9
    //string orig1{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D9"s};
    //string orig2{ "1212121212121212DC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D9"s };
    // In the middle
    // 768
    //string orig1{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E"s};
    //string orig2{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D9121212121212121204D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E"s };
    // 512 - 39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D9 3A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE418235
    //string orig1{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE418235"s};
    //string orig2{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E51212121212121212B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE418235"s };
    // 256 - 39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D9
    //string orig1{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D9"s};
    //string orig2{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D931212121212121212CDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D9"s };
    // In the end
    // 768
    //string orig1{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E"s};
    //string orig2{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182351212121212121212199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E"s};
    // 512 - 39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D9 3A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE418235
    //string orig1{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE418235"s};
    //string orig2{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199E12121212121212126C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE418235"s };
    // 256 - 39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D9
    //string orig1{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D9"s};
    //string orig2{ "39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E51212121212121212B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D9"s };
    // 2 almost identical values
    //hs1.append(PercHash(orig1));
    // Difference is 8 bytes
    //hs2.append(PercHash(orig2));
    // Even more different
    //hs2.append(PercHash("1212121212121212DC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C512121212121212121212121282352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E"s));    
    // Date-time Unix(from от  1/1/1970)
    //hs1.append(PercHash("1650807901"s));
    //hs2.append(PercHash("1649771101"s));
    // 24.04.2022 в hex
    //hs1.append(PercHash("32342e30342e32303232"s));
    //hs2.append(PercHash("31342e30342e32303232"s));
    // Another 2 values
    //hs1.append(PercHash("39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E"s));
    //hs2.append(PercHash("12345678901234567890123456789012C4993F9C1BB187E8B860AABCABCDBCABD2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590E39709243CB2CFB4ADC8C37DE0EC98F7AC4993F9C1BB187E8B860A70919D472D93A23E2F84C7D000604D93A4E06E3BFA6B2C5CCDFB0D2F0913178ACBCAE4182352DBA6A8CDA2B0248199EF5DCEC0EB77416696C46E561EB5FA1D174ED91B0590EEFFF"s));
    //cout << "Original size 1 " << orig1.size()/2 << " and length " << orig1.length() << endl;
    //cout << "Original size 1 " << orig2.size()/2 << " and length " << orig2.length() << endl;
    //cout << HammingDistance(hs1, hs2) << endl;
    //cout << "Hash sizes " << hs1.size() / 2 << " and " << hs2.size() / 2 << " bytes" << endl;
    //cout << "Hash lengths " << hs1.length() << " and " << hs2.length() << " symbols" << endl;
    // 512KB = 512000 Bytes
    



    return 0;
}